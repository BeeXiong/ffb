@model FantasyFootballPlayoffs.ViewModels.PlayerDraftViewModel
@{
    ViewBag.Title = "Players";
}

@section scripts {
    <!--Script references. -->
    <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
    <!--Reference the SignalR library. -->
    <script src="~/Scripts/jquery.signalR-2.4.0.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>
    <!--SignalR script to update the chat page and send messages.-->
    <script>
        $(function () {
            // Reference the auto-generated proxy for the hub.
            var chat = $.connection.draftHub;
            // Create a function that the hub can call back to display messages.
            chat.client.addNewMessageToPage = function (name, message) {
                // Add the message to the page.
                $('#discussion').append('<li><strong>' + htmlEncode(name)
                    + '</strong>: ' + htmlEncode(message) + '</li>');
            };

            //Create a function that the hub can call back to deactivate the button of the player who was just selected.
            chat.client.deactivateSelectedPlayerBtn = function (elementId) {
                $('#' + elementId).html('Drafted');
                $('#' + elementId).removeClass('btn-primary').addClass('btn-success').addClass('draftBtnDisable');
                $('#' + elementId).attr("disabled")
                //use elementId + jquery to change class to btn-success and deactive button
            }

            //Create a function that the hub can call back to change the last pick information
            chat.client.updateLastPick = function (playerName, teamName, playerPosition, pickNumber, userName){
                $('#lastPickName').html(playerName);
                $('#lastPickPosition').html(playerPosition);
                $('#lastPickTeam').html(teamName);
                $('#lastPickUserName').html(userName);
                $('#lastPickNumber').html(pickNumber);
            }

            // Set initial focus to message input box.
            $('#message').focus();
            // Start the connection.
            $.connection.hub.start().done(function () {
                $('#sendmessage').click(function () {
                    // Call the Send method on the hub.
                    chat.server.send($('#displayname').val(), $('#message').val());
                    // Clear text box and reset focus for next comment.
                    $('#message').val('').focus();
                });
                $('.draftBtn').click(function () {

                    //update selection button with new pick

                    //get button element id
                    var btnid = $(this).prop("id");
                    //get hidden player id
                    var playerId = $(this).next().val();
                    //move to the next element and get hidden details Id
                    var detailsHidden = $(this).next();
                    var detailsId = detailsHidden.next().val();

                    chat.server.receiveSelection(playerId, detailsId, btnid);

                    //update last pick information

                    //DOM traversing to get parent element (table data) and getting previous siblings 
                    var tdElements = $(this).parent();
                    tdElements = tdElements.prev();
                    //gets the value of that table data
                    var lastPickPosition = tdElements.html();
                    tdElements = tdElements.prev();
                    var lastPickTeam = tdElements.html();;
                    tdElements = tdElements.prev();
                    var lastPickName = tdElements.html();
                    var lastPickNumber = parseInt($('#lastPickNumber').html())+1;

                    chat.server.getLastPickInfo(lastPickName, lastPickTeam, lastPickPosition, lastPickNumber);
                   
                    //update current user team table
                    //may have to bind data to a json object of Fantasy Roster to pass to the getUserTeamInfo function
                    var userTeam = [];
                    $('#teamTableInfo tr').each(function () {
                        var row = [];
                        $(this).find("td").each(function () {
                            value = $(this).html();
                            row.push(value);
                        });
                        userTeam.push(row)
                    });
                    chat.server.getUserTeamInfo(userTeam);
                });
            });
        });
        // This optional function html-encodes messages for display in the page.
        function htmlEncode(value) {
            var encodedValue = $('<div />').text(value).html();
            return encodedValue;
        }
    </script>
}

<div class="card w-100 border-blueSummer">
    <div class="card-header w-100"><h2>Players</h2></div>
    <div class="row">
        @Html.HiddenFor(m => m.fantasyDetail.Id)
        <div class="card-body">
            <div class="row">
                <div class="col-lg-6 dropdown-inline">
                    <h3>Last Player Taken</h3>
                    <table id="lastPaperTaken" class="table table-responsive-md table-condensed table-hover table-striped stats">
                        <thead>
                            <tr>
                                <td>Player Name</td>
                                <td>Position</td>
                                <td>Team</td>
                                <td>Drafted By</td>
                                <td>Pick Number</td>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model.lastPick == null)
                            {
                                <tr>
                                    <td>No Player Has Been Selected</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            }
                            else
                            {
                                <tr>
                                    <td id="lastPickName">@Model.lastPick.player.firstName @Model.lastPick.player.lastName</td>
                                    <td id="lastPickPosition">@Model.lastPick.player.playerPosition.position</td>
                                    <td id="lastPickTeam">@Model.lastPick.player.team.location.teamLocation @Model.lastPick.player.team.homeTeamName</td>
                                    <td id="lastPickUserName">@Model.lastPick.fantasy_League_Detail.user.UserName</td>
                                    <td id="lastPickNumber">@Model.lastPick.draftPickNumber</td>
                                </tr>
                            }
                        </tbody>
                    </table>

                    @*overview button*@
                    <div class="mx-2 my-4">
                        @Html.ActionLink("Selection Overview","Overview","Draft", new { leagueId = Model.fantasyDetail.fantasy_LeagueId }, new { @class = "btn btn-primary", target = "_blank"})
                    </div>

                    @*chat container*@
                    <h3 class="my-3">Chat</h3>
                    <div class="container" id="chatRoom">
                        <div class="form-inline">
                            <input type="text" class="form-control w-100" id="message" />
                            <input type="button" class="form-control btn-primary mx-2" id="sendmessage" value="Send" />
                            @Html.HiddenFor(m => Model.currentTeam.First().fantasy_League_Detail.fantasy_League.user.UserName, new { @id = "displayname" })
                            @*<input type="hidden" id="displayname" />*@
                        </div>
                        <div style="height:350px; overflow-y:scroll">
                            <ul class="my-3" id="discussion"></ul>
                        </div>                 
                    </div>
                </div>
                @*table for user's team*@
                <div class="col-lg-6 dropdown-inline">
                    <h3>My Team</h3>
                    <table id="myTeamTable" class="table table-responsive-md table-condensed table-hover table-striped stats">
                        <thead>
                            <tr>
                                <td>Slot</td>
                                <td>Player Name</td>
                                <td>Team</td>
                                <td>Pick Number</td>
                            </tr>
                        </thead>
                        <tbody id="teamTableInfo">
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 1) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 1);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>QB1</td>
                                    <td>No Player Selected</td>
                                }
                            </tr>
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 2) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 2);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>QB2</td>
                                    <td>No Player Selected</td>
                                }
                            </tr>
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 3) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 3);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>RB1</td>
                                    <td>No Player Selected</td>
                                }
                            </tr>
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 4) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 4);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>RB2</td>
                                    <td>No Player Selected</td>
                                }
                            </tr>
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 5) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 5);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>WR1</td>
                                    <td>No Player Selected</td>
                                }
                            </tr>
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 6) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 6);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>WR2</td>
                                    <td>No Player Selected</td>
                                }
                            </tr>
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 7) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 7);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>WR3</td>
                                    <td>No Player Selected</td>
                                }
                            </tr>
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 8) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 8);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>WR4</td>
                                    <td>No Player Selected</td>
                                }
                            </tr>
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 9) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 9);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>TE1</td>
                                    <td>No Player Selected</td>
                                }
                            </tr>
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 10) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 10);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>TE2</td>
                                    <td>No Player Selected</td>
                                }
                            </tr>
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 11) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 11);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>D1</td>
                                    <td>No Player Selected</td>
                                }
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 12) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 12);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>D2</td>
                                    <td>No Player Selected</td>
                                }
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 13) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 13);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>K1</td>
                                    <td>No Player Selected</td>
                                }
                            </tr>
                            <tr>
                                @if (Model.currentTeam.Any(m => m.fantasy_Player_SlotId == 14) != false)
                                {
                                    var player = Model.currentTeam.Where(m => m.fantasy_Player_SlotId == 14);

                                    <td>@player.First().fantasy_Player_Slot.playerSlot</td>
                                    <td>@player.First().player.firstName @player.First().player.lastName</td>
                                    <td>@player.First().player.team.location.teamLocation @player.First().player.team.homeTeamName</td>
                                    <td>@player.First().draftPickNumber</td>
                                }
                                else
                                {
                                    <td>K2</td>
                                    <td>No Player Selected</td>
                                }
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="col-lg-12 py-4" id="afc12">
    <div class="row">
        <div class="col-lg-6 dropdown-inline" id="afcSeed1">           
            @if (Model.playoffteams.Count > 0)
            {
                <h3>@Model.playoffteams.First().homeTeam.location.teamLocation @Model.playoffteams.First().homeTeam.homeTeamName - AFC Seed #1</h3>
                <table id="tableAFC1" class="table table-responsive-md table-condensed table-hover table-striped stats">
                    <thead>
                        <tr>
                            <td>Player Name</td>
                            <td>Team Name</td>
                            <td>Position</td>
                            <td>Draft Status</td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var player in Model.players)
                        {
                            if (player.teamid == Model.playoffteams.First().homeTeamId)
                            {
                                <tr>
                                    <td>@player.firstName @player.lastName </td>
                                    <td>@player.team.location.teamLocation @player.team.homeTeamName</td>
                                    <td>@player.playerPosition.position</td>
                                    <td>
                                        @if (Model.draftedPlayers.SingleOrDefault(m => m.playerId == player.Id) == null)
                                        {
                                            @*@Html.ActionLink(" Draft ", "DraftPlayer", "Draft", new { Id = player.Id, detailId = Model.fantasyDetail.Id }, new { @class = "btn btn-primary" })*@
                                            <btn class="btn btn-primary draftBtn" id="@player.lastName@player.Id">Draft Player</btn>
                                            @Html.HiddenFor(m => player.Id);
                                            @Html.HiddenFor(m => m.fantasyDetail.Id);
                                        }
                                        else
                                        {
                                            <button class="btn-success btn" type="submit" disabled>Drafted</button>
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            }
        </div>
        <div class="col-lg-6 dropdown-inline" id="afcSeed2">
            @if (Model.playoffteams.Count > 1)
            {
                <h3>@Model.playoffteams.ElementAt(1).homeTeam.location.teamLocation @Model.playoffteams.ElementAt(1).homeTeam.homeTeamName - AFC Seed #2</h3>
                <table id="tableAFC2" class="table table-responsive-md table-condensed table-hover table-striped stats">
                    <thead>
                        <tr>
                            <td>Player Name</td>
                            <td>Team Name</td>
                            <td>Position</td>
                            <td>Draft Status</td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var player in Model.players)
                        {
                            if (player.teamid == Model.playoffteams.ElementAt(1).homeTeamId)
                            {
                                <tr>
                                    <td>@player.firstName @player.lastName </td>
                                    <td>@player.team.location.teamLocation @player.team.homeTeamName</td>
                                    <td>@player.playerPosition.position</td>
                                    <td>
                                        @if (Model.draftedPlayers.SingleOrDefault(m => m.playerId == player.Id) == null)
                                        {
                                            @Html.ActionLink(" Draft ", "DraftPlayer", "Draft", new { Id = player.Id, detailId = Model.fantasyDetail.Id }, new { @class = "btn btn-primary" })
                                        }
                                        else
                                        {
                                            <button class="btn-success btn" type="submit" disabled>Drafted</button>
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            }
        </div>
    </div>
</div>
<div class="col-lg-12" id="afc34">
    <div class="row">
        <div class="col-lg-6 dropdown-inline" id="afcSeed3">
            @if (Model.playoffteams.Count > 2)
            {
                <h3>@Model.playoffteams.ElementAt(2).homeTeam.location.teamLocation @Model.playoffteams.ElementAt(2).homeTeam.homeTeamName - AFC Seed #3</h3>
                <table id="tableAFC3" class="table table-responsive-md table-condensed table-hover table-striped stats">
                    <thead>
                        <tr>
                            <td>Player Name</td>
                            <td>Team Name</td>
                            <td>Position</td>
                            <td>Draft Status</td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var player in Model.players)
                        {
                            if (player.teamid == Model.playoffteams.ElementAt(2).homeTeamId)
                            {
                                <tr>
                                    <td>@player.firstName @player.lastName </td>
                                    <td>@player.team.location.teamLocation @player.team.homeTeamName</td>
                                    <td>@player.playerPosition.position</td>
                                    <td>
                                        @if (Model.draftedPlayers.SingleOrDefault(m => m.playerId == player.Id) == null)
                                        {
                                            @Html.ActionLink(" Draft ", "DraftPlayer", "Draft", new { Id = player.Id, detailId = Model.fantasyDetail.Id }, new { @class = "btn btn-primary" })
                                        }
                                        else
                                        {
                                            <button class="btn-success btn" type="submit" disabled>Drafted</button>
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            }
        </div>
        <div class="col-lg-6 dropdown-inline" id="afcSeed4">
            @if (Model.playoffteams.Count > 3)
            {
                <h3>@Model.playoffteams.ElementAt(3).homeTeam.location.teamLocation @Model.playoffteams.ElementAt(3).homeTeam.homeTeamName - AFC Seed #4</h3>
                <table id="tableAFC4" class="table table-responsive-md table-condensed table-hover table-striped stats">
                    <thead>
                        <tr>
                            <td>Player Name</td>
                            <td>Team Name</td>
                            <td>Position</td>
                            <td>Draft Status</td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var player in Model.players)
                        {
                            if (player.teamid == Model.playoffteams.ElementAt(3).homeTeamId)
                            {
                                <tr>
                                    <td>@player.firstName @player.lastName </td>
                                    <td>@player.team.location.teamLocation @player.team.homeTeamName</td>
                                    <td>@player.playerPosition.position</td>
                                    <td>
                                        @if (Model.draftedPlayers.SingleOrDefault(m => m.playerId == player.Id) == null)
                                        {
                                            @Html.ActionLink(" Draft ", "DraftPlayer", "Draft", new { Id = player.Id, detailId = Model.fantasyDetail.Id }, new { @class = "btn btn-primary" })
                                        }
                                        else
                                        {
                                            <button class="btn-success btn" type="submit" disabled>Drafted</button>
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            }

        </div>
    </div>
</div>
    <div class="col-lg-12" id="afc56">
        <div class="row">
            <div class="col-lg-6" id="afcSeed5">
                @if (Model.playoffteams.Count > 4)
                {
                    <h3>@Model.playoffteams.ElementAt(4).homeTeam.location.teamLocation @Model.playoffteams.ElementAt(4).homeTeam.homeTeamName - AFC Seed #5</h3>
                    <table id="tableAFC5" class="table table-responsive-md table-condensed table-hover table-striped stats">
                        <thead>
                            <tr>
                                <td>Player Name</td>
                                <td>Team Name</td>
                                <td>Position</td>
                                <td>Draft Status</td>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var player in Model.players)
                            {
                                if (player.teamid == Model.playoffteams.ElementAt(4).homeTeamId)
                                {
                                    <tr>
                                        <td>@player.firstName @player.lastName </td>
                                        <td>@player.team.location.teamLocation @player.team.homeTeamName</td>
                                        <td>@player.playerPosition.position</td>
                                        <td>
                                            @if (Model.draftedPlayers.SingleOrDefault(m => m.playerId == player.Id) == null)
                                            {
                                                @Html.ActionLink(" Draft ", "DraftPlayer", "Draft", new { Id = player.Id, detailId = Model.fantasyDetail.Id }, new { @class = "btn btn-primary" })
                                            }
                                            else
                                            {
                                                <button class="btn-success btn" type="submit" disabled>Drafted</button>
                                            }
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                }

            </div>
            <div class="col-lg-6" id="afcSeed6">
                @if (Model.playoffteams.Count > 5)
                {
                    <h3>@Model.playoffteams.ElementAt(5).homeTeam.location.teamLocation @Model.playoffteams.ElementAt(5).homeTeam.homeTeamName - AFC Seed #6</h3>
                    <table id="tableAFC6" class="table table-responsive-md table-condensed table-hover table-striped stats">
                        <thead>
                            <tr>
                                <td>Player Name</td>
                                <td>Team Name</td>
                                <td>Position</td>
                                <td>Draft Status</td>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var player in Model.players)
                            {
                                if (player.teamid == Model.playoffteams.ElementAt(5).homeTeamId)
                                {
                                    <tr>
                                        <td>@player.firstName @player.lastName </td>
                                        <td>@player.team.location.teamLocation @player.team.homeTeamName</td>
                                        <td>@player.playerPosition.position</td>
                                        <td>
                                            @if (Model.draftedPlayers.SingleOrDefault(m => m.playerId == player.Id) == null)
                                            {
                                                @Html.ActionLink(" Draft ", "DraftPlayer", "Draft", new { Id = player.Id, detailId = Model.fantasyDetail.Id }, new { @class = "btn btn-primary" })
                                            }
                                            else
                                            {
                                                <button class="btn-success btn" type="submit" disabled>Drafted</button>
                                            }
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                }

            </div>
        </div>
    </div>
<div class="col-lg-12" id="nfc12">
    <div class="row">
        <div class="col-lg-6" id="nfcSeed1">
            @if (Model.playoffteams.Count > 6)
            {
                <h3>@Model.playoffteams.ElementAt(6).homeTeam.location.teamLocation @Model.playoffteams.ElementAt(6).homeTeam.homeTeamName - NFC Seed #1</h3>
                <table id="tableNFC1" class="table table-responsive-md table-condensed table-hover table-striped stats">
                    <thead>
                        <tr>
                            <td>Player Name</td>
                            <td>Team Name</td>
                            <td>Position</td>
                            <td>Draft Status</td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var player in Model.players)
                        {
                            if (player.teamid == Model.playoffteams.ElementAt(6).homeTeamId)
                            {
                                <tr>
                                    <td>@player.firstName @player.lastName </td>
                                    <td>@player.team.location.teamLocation @player.team.homeTeamName</td>
                                    <td>@player.playerPosition.position</td>
                                    <td>
                                        @if (Model.draftedPlayers.SingleOrDefault(m => m.playerId == player.Id) == null)
                                        {
                                            @Html.ActionLink(" Draft ", "DraftPlayer", "Draft", new { Id = player.Id, detailId = Model.fantasyDetail.Id }, new { @class = "btn btn-primary" })
                                        }
                                        else
                                        {
                                            <button class="btn-success btn" type="submit" disabled>Drafted</button>
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            }

        </div>
        <div class="col-lg-6" id="nfcSeed2">
            @if (Model.playoffteams.Count > 7)
            {
                <h3>@Model.playoffteams.ElementAt(7).homeTeam.location.teamLocation @Model.playoffteams.ElementAt(7).homeTeam.homeTeamName - NFC Seed #2</h3>
                <table id="tableNFC2" class="table table-responsive-md table-condensed table-hover table-striped stats">
                    <thead>
                        <tr>
                            <td>Player Name</td>
                            <td>Team Name</td>
                            <td>Position</td>
                            <td>Draft Status</td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var player in Model.players)
                        {
                            if (player.teamid == Model.playoffteams.ElementAt(7).homeTeamId)
                            {
                                <tr>
                                    <td>@player.firstName @player.lastName </td>
                                    <td>@player.team.location.teamLocation @player.team.homeTeamName</td>
                                    <td>@player.playerPosition.position</td>
                                    <td>
                                        @if (Model.draftedPlayers.SingleOrDefault(m => m.playerId == player.Id) == null)
                                        {
                                            @Html.ActionLink(" Draft ", "DraftPlayer", "Draft", new { Id = player.Id, detailId = Model.fantasyDetail.Id }, new { @class = "btn btn-primary" })
                                        }
                                        else
                                        {
                                            <button class="btn-success btn" type="submit" disabled>Drafted</button>
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            }
            

        </div>
    </div>
</div>
<div class="col-lg-12" id="nfc34">
    <div class="row">
        <div class="col-lg-6" id="nfcSeed3">
            @if (Model.playoffteams.Count > 8)
            {
                <h3>@Model.playoffteams.ElementAt(8).homeTeam.location.teamLocation @Model.playoffteams.ElementAt(8).homeTeam.homeTeamName - NFC Seed #3</h3>
                <table id="tableNFC3" class="table table-responsive-md table-condensed table-hover table-striped stats">
                    <thead>
                        <tr>
                            <td>Player Name</td>
                            <td>Team Name</td>
                            <td>Position</td>
                            <td>Draft Status</td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var player in Model.players)
                        {
                            if (player.teamid == Model.playoffteams.ElementAt(8).homeTeamId)
                            {
                                <tr>
                                    <td>@player.firstName @player.lastName </td>
                                    <td>@player.team.location.teamLocation @player.team.homeTeamName</td>
                                    <td>@player.playerPosition.position</td>
                                    <td>
                                        @if (Model.draftedPlayers.SingleOrDefault(m => m.playerId == player.Id) == null)
                                        {
                                            @Html.ActionLink(" Draft ", "DraftPlayer", "Draft", new { Id = player.Id, detailId = Model.fantasyDetail.Id }, new { @class = "btn btn-primary" })
                                        }
                                        else
                                        {
                                            <button class="btn-success btn" type="submit" disabled>Drafted</button>
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            }

        </div>
        <div class="col-lg-6" id="nfcSeed4">
            @if (Model.playoffteams.Count > 9)
            {
                <h3>@Model.playoffteams.ElementAt(9).homeTeam.location.teamLocation @Model.playoffteams.ElementAt(9).homeTeam.homeTeamName - NFC Seed #4</h3>
                <table id="tableNFC4" class="table table-responsive-md table-condensed table-hover table-striped stats">
                    <thead>
                        <tr>
                            <td>Player Name</td>
                            <td>Team Name</td>
                            <td>Position</td>
                            <td>Draft Status</td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var player in Model.players)
                        {
                            if (player.teamid == Model.playoffteams.ElementAt(9).homeTeamId)
                            {
                                <tr>
                                    <td>@player.firstName @player.lastName </td>
                                    <td>@player.team.location.teamLocation @player.team.homeTeamName</td>
                                    <td>@player.playerPosition.position</td>
                                    <td>
                                        @if (Model.draftedPlayers.SingleOrDefault(m => m.playerId == player.Id) == null)
                                        {
                                            @Html.ActionLink(" Draft ", "DraftPlayer", "Draft", new { Id = player.Id, detailId = Model.fantasyDetail.Id }, new { @class = "btn btn-primary" })
                                        }
                                        else
                                        {
                                            <button class="btn-success btn" type="submit" disabled>Drafted</button>
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            }

        </div>
    </div>      
</div>
<div class="col-lg-12" id="nfc56">
    <div class="row">
        <div class="col-lg-6" id="nfcSeed5">
            @if (Model.playoffteams.Count > 10)
            {
                <h3>@Model.playoffteams.ElementAt(10).homeTeam.location.teamLocation @Model.playoffteams.ElementAt(10).homeTeam.homeTeamName - NFC Seed #5</h3>
                <table id="tableNFC5" class="table table-responsive-md table-condensed table-hover table-striped stats">
                    <thead>
                        <tr>
                            <td>Player Name</td>
                            <td>Team Name</td>
                            <td>Position</td>
                            <td>Draft Status</td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var player in Model.players)
                        {
                            if (player.teamid == Model.playoffteams.ElementAt(10).homeTeamId)
                            {
                                <tr>
                                    <td>@player.firstName @player.lastName </td>
                                    <td>@player.team.location.teamLocation @player.team.homeTeamName</td>
                                    <td>@player.playerPosition.position</td>
                                    <td>
                                        @if (Model.draftedPlayers.SingleOrDefault(m => m.playerId == player.Id) == null)
                                        {
                                            @Html.ActionLink(" Draft ", "DraftPlayer", "Draft", new { Id = player.Id, detailId = Model.fantasyDetail.Id }, new { @class = "btn btn-primary" })
                                        }
                                        else
                                        {
                                            <button class="btn-success btn" type="submit" disabled>Drafted</button>
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            }

        </div>
        <div class="col-lg-6" id="nfcSeed6">
            @if (Model.playoffteams.Count > 11)
            {
                <h3>@Model.playoffteams.ElementAt(11).homeTeam.location.teamLocation @Model.playoffteams.ElementAt(11).homeTeam.homeTeamName - NFC Seed #6</h3>
                <table id="tableNFC6" class="table table-responsive-md table-condensed table-hover table-striped stats">
                    <thead>
                        <tr>
                            <td>Player Name</td>
                            <td>Team Name</td>
                            <td>Position</td>
                            <td>Draft Status</td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var player in Model.players)
                        {
                            if (player.teamid == Model.playoffteams.ElementAt(11).homeTeamId)
                            {
                                <tr>
                                    <td>@player.firstName @player.lastName </td>
                                    <td>@player.team.location.teamLocation @player.team.homeTeamName</td>
                                    <td>@player.playerPosition.position</td>
                                    <td>
                                        @if (Model.draftedPlayers.SingleOrDefault(m => m.playerId == player.Id) == null)
                                        {
                                            @Html.ActionLink(" Draft ", "DraftPlayer", "Draft", new { Id = player.Id, detailId = Model.fantasyDetail.Id }, new { @class = "btn btn-primary" })
                                        }
                                        else
                                        {
                                            <button class="btn-success btn" type="submit" disabled>Drafted</button>
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            }

        </div>
    </div>    
</div>



